<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Validation</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/2.0.0/modern-normalize.min.css"
    />
    <link rel="stylesheet" href="./style/style.css" />
  </head>

  <body class="body">
    <header class="header">
      <div class="container">
        <h2 class="title">Валидация</h2>
        <p>
          Каждый раз при заполнении полей формы не в том формате, котрый они
          ожидают мы полачаем обратную связь в виде оповещений. Так работают
          формы регистрации, оформление заказа и любые другие где важен формат
          вводимых данных <br /><br />
          Это называется валидация форм - проверка корректости вводимых
          значений. Если данные верны форма будет отправлена, в противном случае
          будет отображено сообщение об ошибке, объсняющее необходимые правки.
        </p>
        <img src="./images/validation.jpg" alt="" class="img" />
        <p>
          Валидация на клиенте - это проверка, которая происходит в браузере
          прежде чем данные формы будут отправлены на сервер. Это удобно для
          UX(user experiens). Т.к пользователь мгновенно получает обратную связь
          в процессе или сразу после ввода значения в поле. <br />
          Валидация на сервере - это последняя линия защиты веб приложения от
          неправильных или вредоносных данных. Проверка которой выполняется на
          бек-енде. После отправки данных и перед их сохранением в базе данных.
          Если данные не проходят проверку валидности, ответ отправляется
          обратно клиенту, чтобы сообщить пользователю, какие исправления должны
          быть сделаны.
        </p>
        <h2 class="title">Атрибуты валидации</h2>
        <p>
          Каждый современный браузер имеет возмоэность валидацию содержимых
          полей формы без использования JS. Для этого используется комбинации
          различных типов полей и их атрибутов. Если пользователь ввел не
          валидное значение - браузер покажет оповещение.
        </p>
        <h2 class="title">Обязательные поля</h2>
        <p>
          Логический атрибут required помечает поле формы как обязательные для
          заполнения. Если поле пустое, браузер выведет сообщение-подсказку, а
          форма не будет отправлена. Внешний вид сообщения зависит от браузера и
          не может изменяться в css.
        </p>
        <form>
          <label>
            Email
            <input type="email" name="email" required />
          </label>
          <label>
            Password
            <input type="password" name="password" required />
          </label>

          <button class="btn" type="submit">Submit</button>
        </form>
        <p class="information">
          Чтобы сделать группу радиокнопок или чекбоксов обязательной,
          необходимо задать атрибут required каждому элементу группы.
        </p>
        <a name="title-3"></a>
        <h2 class="title">Ограничение по длине</h2>
        <p>
          Атрибуты <code>minlength</code> и <code>maxlength</code> накладывают
          ограничения на количество вводимых символов, например для пароля или
          имени пользователя.
        </p>
        <form>
          <label>
            Username
            <input type="text" name="username" required minlength="3" />
          </label>
          <label>
            Password
            <input
              type="password"
              name="password"
              required
              minlength="6"
              maxlength="12"
            />
          </label>

          <button class="btn" type="submit">Submit</button>
        </form>
        <h2 class="title">Ограничение значения</h2>
        <p>
          Атрибуты min и max позволяют проверить вхождение численного значения в
          указаный промежуток. Может быть использовано только в полях с типом
          number, range, data.
        </p>
        <form>
          <label>
            Ваш заказ
            <input type="number" name="" required min="1" max="10" />
          </label>
          <button class="btn" type="submit">Submit</button>
        </form>
        <h2 class="title">Регулярные выражения</h2>
        <p>
          Атрибут pattern позволяет указать регулярные вырадения (шаблон)
          относительно которого будет проверятся значение поля. Используется для
          расширения базовой валидации. Например если требуется чтобы имя
          пользователя состояло хотя бы из 2 слов или пароль содержал хотя бы
          символ в верхнем регистре.
        </p>
        <p class="information">
          Регулярные выражения это специальный язык описания шаблона, который
          используется в языках программирования для поиска, замены или проверки
          соответсвия последовательности символов в строках.
        </p>
        <p>
          По умолчанию при ошибке валидации браузер отобразит стандартный текст
          «Please match the requested format». Дополнительный текст-подсказку,
          который будет отображен в сообщении от браузера можно указать в
          атрибуте title
        </p>
        <form>
          <label>
            Username
            <input
              type="text"
              name="text"
              required
              pattern="^[a-zA-Z]+\s[a-zA-Z]+$"
              title="Username must be two words separated by space."
            />
          </label>
          <label>
            Password
            <input
              type="password"
              name="password"
              required
              minlength="6"
              maxlength="12"
              pattern="^(?=.*\d)(?=.*[a-z])(?=.* [A-Z])(?!.*\s).*$"
              title="Please include at least 1 uppercase character, 1 lowercase character, and 1 number."
            />
          </label>
          <button class="btn" class="btn" type="submit">Submit</button>
        </form>
        <h2 class="title">Псевдоклассы состояния</h2>
        <p>
          Существует набор псевдоклассов, созданых специально для элементов форм
          и не оказывающих никакого эффекта на другие элементы.С помощью них
          можно оформлять поля форм по состоянию валидности введенных данных или
          обязательных к заполнению.
        </p>
        <h2 class="title">:enable, :disable</h2>
        <p>
          Позволяет выбрать элемент в активном или отключенном состоянии,
          которое определяет наличие или отсутствие булевого атрибута disabled.
          Применимо к элементам input, select, button.
        </p>
        <button class="btn">Active button</button>
        <button class="btn" disabled>Disabled button</button>
        <p class="information">
          Элементы с атрибутом disabled не получают элементы фокуса а так же
          генерируют клики мыши. Это можно использовать например для того, чтобы
          запретить отправку формы пока не заполнены все поля, но для этого
          нужен JS.
        </p>
        <h2 class="title">:checked</h2>
        <p>
          Применяется к радиокнопкам и чек боксам, позволяет выбрать только
          отмеченные поля. Например пусть при выборе чекбокса текст метки
          остается синим. Используя селектор "+" можно выбрать метку когда
          чекбокс отмечен, но для этого необходимо чтобы тег label был в
          разметке после чекбокса.
        </p>
        <p class="bg">
          &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot;
          value=&quot;music&quot; id=&quot;music&quot;/&gt; <br />
          &lt;label for=&quot;music&quot;&gt;Музыка&lt;/label&gt;
        </p>
        <form class="form">
          <p class="form-caption">Ваше хобби</p>
          <div class="form-field">
            <input
              type="checkbox"
              class="form-input"
              name="hobby"
              value="sports"
              id="sport"
            />
            <label for="sports" class="form-label">  Спорт </label>
          </div>
          <div class="form-field">
            <input
              type="checkbox"
              class="form-input"
              name="hobby"
              value="musics"
              id="music"
            />
            <label for="music" class="form-label">  Музыка </label>
          </div>
          <div class="form-field">
            <input
              type="checkbox"
              class="form-input"
              name="hobby"
              value="books"
              id="book"
            />
            <label for="book" class="form-label">  Книги </label>
          </div>
          <button class="btn" type="submit">Submit</button>
        </form>
        <h2 class="title">:in-range :out-of-range</h2>
        <p>
          Эти псевдоклассы применяются к элементам range, number, data если у
          них указаны атрибуты min и max.
        </p>
        <form class="form">
          <div class="form-field">
            <label for="amount-1" class="form-label"
              >Сколько вы хотите заказать?</label
            >
            <input
              type="number"
              required
              min="1"
              max="10"
              step="1"
              value="0"
              name="amount-1"
              id="amount-1"
              class="form-input"
            />
          </div>
          <div class="form-field">
            <label for="amount-2" class="form-label"
              >Сколько вы хотите заказать?</label
            >
            <input
              type="number"
              required
              min="1"
              max="10"
              step="1"
              value="3"
              name="amount-2"
              id="amount-2"
              class="form-input"
            />
          </div>
          <div class="form-field">
            <label for="amount-3" class="form-label"
              >Сколько вы хотите заказать?</label
            >
            <input
              type="number"
              required
              min="1"
              max="10"
              step="1"
              name="amount-3"
              id="amount-3"
              class="form-input"
            />
          </div>
          <button class="btn" type="submit">Submit</button>
        </form>
        <p>
          У таких селекторов есть ограничения. Цвет рамки инпута сразу красынй
          если задано начальное значение меньше 1 или больше 10, и зеленый если
          начальное значение не задано или попадает в отрезок от 1 до 10. Т.е
          селекторы применяются еще до ввода какого-либо значения в поле.
        </p>
        <h2 class="title">:requared :optional</h2>
        <p>
          Применяется к элементам в зависимости от наличия или отсутствия
          атрибута requared. Браузеры показывает что поле обязательное только
          при попытке отправить форму. Псевдокласс requared позволяет оформить
          поле и показать пользователю что оно обязательно еще до отправки.
          Псевдокласс optional на практике используется крайне редко.
        </p>
        <form class="form">
          <label class="form-label">
            <span class="label-text">Username (optional)</span>
            <input type="text" class="form-input" name="username" />
          </label>

          <label class="form-label">
            <span class="label-text">Email (required)</span>
            <input type="email" class="form-input" name="mail" required />
          </label>

          <button class="btn" type="submit">Submit</button>
        </form>
        <p class="information">
          Проблемы такие же как и у предидущих псевдоклассов, стили применяются
          еще до ввода какого-либо значения
        </p>
        <h2 class="title">:valid :invalid</h2>
        <p>
          Позволяют выбрать элементы с валидными и не валидными значениями.
          Проверочные ограничения создаются атрибутами type, minlength,
          maxlength, pattern.
        </p>
        <form class="form">
          <label class="form-label">
            <span class="label-text">Username</span>
            <input
              type="text"
              class="form-input"
              name="username"
              required
              minlength="3"
            />
          </label>

          <label class="form-label">
            <span class="label-text">Email</span>
            <input type="email" class="form-input" name="mail" required />
          </label>

          <button class="btn" type="submit">Submit</button>
        </form>
        <p class="information">
          Стили применяются до отправки формы. Если у селектора есть атрибут
          requared то селектор invalid применяется еще до ввода значения, т.к
          обязательное поле не может быть пустым.
        </p>
        <h2 class="title">:placeholder-shown</h2>
        <p>
          Применяется в зависимости от видимости плейсхолдера - Значение
          атрибута placeholder.
        </p>
        <form class="form">
          <label class="form-label">
            <span class="label-text">Username</span>
            <input
              type="text"
              class="form-input"
              name="username"
              placeholder="First name Second name"
            />
          </label>
          <button class="btn" type="submit">Submit</button>
        </form>
        <p class="information">
          Обратите внимание на селектор .form-input::placeholder, он
          используется для оформления текста плейсхолдера.
        </p>
        <h2 class="title">Композиция псевдоклассов</h2>
        <p>
          Проблема применения стилей до ввода значений решается комбинацией
          нескольких псевдоклассов в одном селекторе.
        </p>
        <p class="bg">
          .form-input:not(:placeholder-shown):required:valid { <br />
          /* ... */ <br />
          }
        </p>
        <ul>
          Селектор получается громоздким но и не сложным и применяется к
          элементу с классом form-input
          <br /><br />
          <li>Если элемент обязателен к заполнению - requared</li>
          <li>Введенное значение валидно - valid</li>
          <li>Текст плейсхолдера не видно - :not(placeholder-shown)</li>
          Как только что-то ввели и плейсхолдер пропал происходит валидация и
          селектор применяется к элементу. Обязательная часть этой техники
          наличие атрибута placeholder значением которого может быть текст,
          строка с одним пробелом, главное не пустая.
        </ul>
        <form class="form">
          <label class="form-label">
            <span class="label-text">Username</span>
            <input
              type="text"
              class="form-input"
              name="username"
              placeholder="Name Last name"
              minlength="3"
              requared
            />
          </label>
          <label class="form-label">
            <span class="label-text">Email</span>
            <input
              type="email"
              class="form-input"
              name="email"
              placeholder="email@domin.com"
              requared
            />
          </label>
          <button class="btn" type="submit">Submit</button>
        </form>
        <p class="information">
          Для более сложной валидации и оформления результатов нужна доп
          разметка и JS. Настраивать сложную валидацию в HTML нет смысла. Такое
          решение не масштабируется и плохо поддерживается.
        </p>
        <h2 class="title">:focus-within</h2>
        <p>
          Применяется к элементу когда он сам или элементы внутри его получают
          фокус. В отличие от :focus который выбирает сам элемент получивший
          фокус, focus-within работает для предка, это позволяет применять стили
          на метку, форму или отдельные ее части, когда пользователь
          взаимодействует с полями
        </p>
        <form class="form-dash">
          <label class="form-label">
            <span class="label-text">First name</span>
            <input class="form-input" type="text" name="firstName" />
          </label>
          <label class="form-label">
            <span class="label-text">Last name</span>
            <input class="form-input" type="text" name="lastName" />
          </label>
          <button class="btn" type="submit">Submit</button>
        </form>
      </div>
    </header>
    <script src="./js/script.js"></script>
  </body>
</html>
